I"5 <blockquote>
  <p>Antes de começar a falar sobre este projeto, vale a pena relembrar o período que atuei apenas na sustentação dos aplicativos que foram migrados. <a href="/apps-kony-bbmapfre" target="_blank">Confira aqui</a></p>
</blockquote>

<p>Vamos separar o post em alguns tópicos para organizar:</p>

<ol>
  <li>Estudos sobre melhores tecnologias mobile</li>
  <li>PoC com a tecnologia escolhida</li>
  <li>Definição do projeto/estimativa</li>
  <li>Início do projeto</li>
  <li>Desenvolvimento</li>
  <li>Entrega</li>
</ol>

<p>Vamos lá…</p>

<h3 id="1-estudos-sobre-melhores-tecnologias-mobile">1. Estudos sobre melhores tecnologias mobile</h3>

<p>Ainda durante a sustentação, atuando pela Entelgy, fizemos um estudo sobre as tecnologias mobile que estavam em alta no momento.
Esse estudo veio acompanhado com uma estimativa comparando entre: Kony(atual), Ionic, React Native e Nativas.
Comparamos os seguintes pontos: Curva de aprendizado, velocidade de desenvolvimento, performance e custo.</p>

<p>Com esses pontos na mesa, após alguns dias de papo entre todos que prestavam serviço, chegamos a conclusão que Ionic seria a melhor opção dado o cenário atual do Grupo Segurador.</p>

<p>Corta a cena vamos para o próximo item.</p>

<h3 id="2-poc-com-a-tecnologia-escolhida">2. PoC com a tecnologia escolhida</h3>

<p>Voltando dos comerciais, já atuando pela everis, ainda na sustentação dos apps, surgiu o assunto que migraríamos os apps para o Ionic.
Com isso a equipe de sustentação, mesmo sem nada confirmado, decidiu usar o tempo livre para replicar a home do app principal dos apps em ionic para mensurar o tempo que precisariam para a migração.</p>

<p>Com isso fizemos em duas maneiras.</p>

<ul>
  <li>Layout exatamente igual ao app atual também com ionic</li>
  <li>Layout aos moldes do ionic com poucos ajustes</li>
</ul>

<p>Com isso vamos aos prints</p>

<h4 id="original---prints-do-app-em-produção">Original - Prints do app em produção</h4>
<p><img src="assets/img/everis/bbmapfre-unificacao/0-app-kony.png" alt="" /></p>

<h4 id="ionic-idêntico---muitos-ajustes-para-o-layout-ficar-idêntico-ao-app-de-produção">Ionic Idêntico - Muitos ajustes para o layout ficar idêntico ao app de produção</h4>
<div class="grid">
    <div class="a img">
        <img src="assets/img/everis/bbmapfre-unificacao/1.0-home-identico-ionic.png" alt="" />
    </div>
    <div class="b img">
        <img src="assets/img/everis/bbmapfre-unificacao/1.1-menu-identico-ionic.png" alt="" />
    </div>
</div>

<blockquote>
  <p>Porque criamos este exatamente igual: No início do projeto foi dito que seria apenas uma troca de tecnologia sem alterar nada de regra de negócio nem layout. Dai fizemos exatamente igual para respeitar essa decisão.</p>
</blockquote>

<h4 id="ionic-way---layout-básico-sem-muitos-ajustes">Ionic Way - Layout básico sem muitos ajustes</h4>
<div class="grid">
    <div class="a img">
        <img src="assets/img/everis/bbmapfre-unificacao/2.0-home-ajustes-pequenos-ionic.png" alt="" />
    </div>
    <div class="b img">
        <img src="assets/img/everis/bbmapfre-unificacao/2.1-menu-ajustes-pequenos-ionic.png" alt="" />
    </div>
</div>

<blockquote>
  <p>Mas como todo consultor deve se comportar, fizemos uma versão mais simples, usando tudo que o Ionic podia oferecer e mostramos as vantagens.</p>
</blockquote>

<p>A PoC foi apresentada para os gerentes e foi muito elogiada. Mas infelizmente não foi utilizada porque o projeto teve uma surpresa, que vou citar abaixo. rsrs</p>

<h3 id="3-definição-do-projetoestimativa">3. Definição do projeto/estimativa</h3>

<p>Com o cenário posto, com PoC e noção de tempo para migrar, estimamos em 3 meses o projeto para 4 pessoas. Maravilha.</p>

<p>Porém como nada pode estar tão perfeito, veio a surpresa que comentei acima. O app mudaria o escopo, como?</p>

<h4 id="de">De:</h4>
<p>4 apps Kony:</p>
<ul>
  <li>MAPFRE Seguros ( institucional )</li>
  <li>BB Seguros ( institucional )</li>
  <li>MAPFRE Auto ( auto )</li>
  <li>BB Seguro Auto ( auto )</li>
</ul>

<p>Sim, existia um app apenas para o conteúdo institucional da empresa e outro para as ações transacionais referentes ao segmento auto.
E o projeto inicial seria manter esse escopo, porém com a tecnologia Ionic.</p>

<h4 id="para">Para:</h4>
<p>2 apps Ionic:</p>
<ul>
  <li>MAPFRE Seguros</li>
  <li>BB Seguros</li>
</ul>

<p>Mantivemos o nome do app institucional por ser mais abrangente e unificamos o conteúdo dos apps para facilitar a vida do usuário.
e agora com a unificação não fazia mais sentido manter a mesma UX do app, com isso foi preciso um trabalho massivo da equipe de UI/UX da everis para conseguir criar um app com todo conteúdo e ainda sim fazer sentido.</p>

<h4 id="novo-layout">Novo layout</h4>
<p>Prints de produção, não achei as especificações rsrs
<img src="assets/img/everis/bbmapfre-unificacao/novo-layout.png" alt="" /></p>

<h3 id="4-início-do-projeto">4. Início do projeto</h3>

<p>Com novo layout definido para algumas telas e time se formando. Fomos criando o app e agora como a estimativa já havia sido definida, precisávamos replanejar ou assumir que caberia nos 3 meses que já havíamos passado para o cliente.</p>

<p>Aceitamos o desafio e topamos manter os 3 meses, visto que o novo layout melhoraria a usabilidade e com isso removeria algumas telas desnecessárias.</p>

<h3 id="5-desenvolvimento">5. Desenvolvimento</h3>

<p>Apesar de a estimativa ter sido feita como escopo fechado, controlamos o desenvolvimento com métodos ágeis e tivemos poucos problemas em relação a isso.</p>

<p>O desenvolvimento teve poucos problemas na parte do ionic. Não acho tão relevante falar das outras frentes que tiveram. rsrs</p>

<p>Pontos interessantes que podemos citar sobre o desenvolvimento são:</p>
<ul>
  <li>Criamos cerca de 95+ telas, algumas sendo reutilizadas como componentes;</li>
  <li>Criamos um fluxo de telas para o usuário voltar onde parou, mesmo após a morte do app, depois de um tempo em segundo plano;</li>
  <li>Criamos um plugin específico para o projeto que não existia na doc do ionic. Plugin para enviar o ticket carteirinha para a Apple Wallet <a href="https://github.com/everis-br/cordova-apple-wallet-tickets" target="_blank">Repo</a></li>
  <li>Usamos o plugin do maps para mostrar o guincho solicitado chegando em tempo real</li>
  <li>e muito mais …</li>
</ul>

<p>Também utilizamos uma boa prática em apps componentizáveis para melhoria de performance chamada <code class="language-plaintext highlighter-rouge">Lazy Loading</code>. Em um app com quase 100 telas faz uma diferença e tanto. Pensa, se a splash do app precisasse esperar carregar as 100 telas, demoraria muito. 
Com esse recurso, carregamos apenas a home e o que mais o usuário for clicando para utilizar.</p>

<p>Por último, mas não menos importante, criamos, duas vezes, todo pipeline de build utilizando a primeira vez, Jenkins e após o cliente adotar, utilizamos o Azure DevOps. 
O pipeline não fazia todo papel DevOps de fato por políticas do cliente, mas conseguimos otimizar boa parte do desenvolvimento/homologação.</p>

<p>A cada commit feito nas branchs escolhidas como trigger, tanto jenkins quanto azure, faziam o build e entregavam o <code class="language-plaintext highlighter-rouge">apk</code> e <code class="language-plaintext highlighter-rouge">ipa</code> em uma enterprise store chamada <a href="https://appinstaller.com.br" target="_blank">AppInstaller</a>. Com isso passávamos o link para a equipe de homologação do cliente.</p>

<p>Infelizmente o processo de publicação ainda continua manual pelas políticas já mencionadas.</p>

<h3 id="6-entrega">6. Entrega</h3>

<p>O prazo para entrega do projeto, código desenvolvido, era para dia 02/02. Fizemos algumas correrias para atingir essa data e conseguimos entregar perto disso. Atrasado? Não. Entregamos dia 01/02 com uma ressalva, não entregamos apenas o código desenvolvido, mas sim o app PUBLICADO nas lojas. =D</p>

<h3 id="resumo">Resumo</h3>

<p>Hoje o app continua nas lojas e a sustentação do app está bem estabilizada, sem incidentes graves e problemas que demandem muita energia. =D</p>
:ET